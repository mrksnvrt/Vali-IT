<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bank</title>
</head>
<body>

<h2> Loo konto</h2>

<table border="2">
    </tr>
    <tr>
        <td>account number</td>
        <td><input id="account_number" type="text"/></td>
    </tr>
    <tr>
        <td>balance</td>
        <td><input id="balance" type="number"/></td>
    </tr>
    <tr>
        <td>first name</td>
        <td><input id="first_name" type="text"/></td>
    </tr>
    <tr>
        <td>last name</td>
        <td><input id="last_name" type="text"/></td>
    </tr>
    <tr>
        <td>Create Account</td>
        <td><input id="submit" type="submit"/></td>
    </tr>
</table>

<h2> Deposit</h2>
<table border="2">
    </tr>
    <tr>
        <td>account number</td>
        <td><input id="account_deposit" type="text"/></td>
    </tr>
    <tr>
        <td>amount of money</td>
        <td><input id="depositMoney" type="number"/></td>
    </tr>
    <tr>
        <td>Send money</td>
        <td><input id="sendDepo" type="submit"/></td>
    </tr>
</table>

<h2> Withdraw</h2>
<table border="2">
    <tr>
        <td>account number</td>
        <td><input id="account_withdraw" type="text"/></td>
    </tr>
    <tr>
        <td>amount of money</td>
        <td><input id="withdrawMoney" type="number"/></td>
    </tr>
    <tr>
        <td>Send money</td>
        <td><input id="withdraw" type="submit"/></td>
    </tr>
</table>
<h2> Transfer</h2>
<table border="2">
    <tr>
        <td>account number</td>
        <td><input id="account_from" type="text"/></td>
    </tr>
    <tr>
        <td>amount of money</td>
        <td><input id="money" type="number"/></td>
    </tr>
    <tr>
        <td>account number to</td>
        <td><input id="account_to" type="text"/></td>
    </tr>
    <tr>
        <td>Send money</td>
        <td><input id="transfer" type="submit"/></td>
    </tr>
</table>



</body>
<script type="text/javascript">
    let accountNumber = document.getElementById("account_number");
    let balance = document.getElementById("balance");
    let firstName = document.getElementById("first_name");
    let lastName = document.getElementById("last_name");
    let submit = document.getElementById("submit");
    submit.onclick = function () {
        let requestObject = {
            'accountNumber': accountNumber.value,
            'balance': balance.value,
            'firstName': firstName.value,
            'lastName': lastName.value
        }
        let url = "http://localhost:8080/bank/createAccount";
        let configuration = {
            method: 'POST',
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestObject)
        }
        fetch(url, configuration)
            .then(response => response.text())
            .then(function(response){
                alert(response)
            })
    }
    let deposit = document.getElementById("depositMoney");

    let sendDepo = document.getElementById("sendDepo");
    let accountDeposit = document.getElementById("account_deposit")

    sendDepo.onclick = function () {
        let requestObject = {
            'accountNumber': accountDeposit.value,
            'amountOfMoney': deposit.value,
            'type': "Deposit"

        }
        let url = "http://localhost:8080/bank/deposit";
        let configuration = {
            method: 'PUT',
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestObject)
        }
        fetch(url, configuration)
            .then(response => response.text())
            .then(function (response) {
                alert(response)
            })
    }
    let withdrawMoney = document.getElementById("withdrawMoney");
    let withdraw = document.getElementById("withdraw");
    let accountWithdraw = document.getElementById("account_withdraw")

    withdraw.onclick = function () {
        let requestObject = {
            'accountNumber': accountWithdraw.value,
            'amountOfMoney': withdrawMoney.value,
            'type': "withdraw"

        }
        let url = "http://localhost:8080/bank/withdraw";
        let configuration = {
            method: 'PUT',
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestObject)
        }
        fetch(url, configuration)
            .then(response => response.text())
            .then(function(response){
                alert(response)
            })
    }
    let from = document.getElementById("account_from");
    let to = document.getElementById("account_to");
    let howMuch = document.getElementById("money");
    let transfer = document.getElementById("transfer");
    transfer.onclick = function () {
        let requestObject = {
            'fromAccount': from.value,
            'toAccount': to.value,
            'balance': howMuch.value,
            'type': "transfer"

        }
        let url = "http://localhost:8080/bank/transfer";
        let configuration = {
            method: 'PUT',
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(requestObject)
        }
        fetch(url, configuration)
            .then(response => response.text())
            .then(function(response){
                alert(response)
            })
    }


</script>

</html>